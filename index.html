<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Combined: RootDonate Live X Vibes</title>
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"/>
  <style>
    body, html {
      margin: 0;
      height: auto;
      background: #000;
      color: #fff;
      font-family: system-ui, sans-serif;
      overflow: auto;
    }
    #map-container {
      position: relative;
      height: 80vh;
    }
    #map { height: 100%; }
    .header {
      position: absolute;
      top: 12px;
      left: 0;
      right: 0;
      text-align: center;
      pointer-events: none;
      z-index: 1000;
    }
    h1 {
      font-size: 2.8rem;
      font-weight: 900;
      letter-spacing: -1px;
      background: linear-gradient(90deg, #0af, #0f5, #f90);
      -webkit-background-clip: text;
      background-clip: text;
      color: transparent;
    }
    .search {
      position: absolute;
      top: 60px;
      left: 50%;
      transform: translateX(-50%);
      z-index: 1001;
      background: rgba(0,0,0,0.7);
      backdrop-filter: blur(8px);
      padding: 12px;
      border-radius: 12px;
      border: 1px solid #444;
      width: 90%;
      max-width: 420px;
      text-align: center;
    }
    input, button {
      padding: 8px 12px;
      border: none;
      border-radius: 6px;
      margin: 6px;
    }
    input {
      width: 65%;
      background: #222;
      color: #fff;
    }
    button {
      background: #1da1f2;
      color: #fff;
      cursor: pointer;
    }
    footer {
      position: absolute;
      bottom: 0;
      left: 0;
      right: 0;
      padding: 10px;
      background: rgba(0,0,0,0.8);
      text-align: center;
      font-size: 0.9rem;
      z-index: 1000;
    }
    pre {
      background: #161b22;
      padding: 1.2rem;
      border-radius: 8px;
      overflow-x: auto;
      border: 1px solid #30363d;
    }
    code {
      font-family: 'Consolas', 'Monaco', 'Courier New', monospace;
      font-size: 0.95rem;
    }
    .keyword { color: #ff7b72; }
    .string   { color: #a5d6ff; }
    .comment  { color: #8b949e; font-style: italic; }
    .function { color: #d2a8ff; }
    .number   { color: #79c0ff; }
  </style>
</head>
<body>
  <div id="map-container">
    <div id="map"></div>
    <div class="header">
      <h1>RootDonate</h1>
      <button id="load">Load Live X Vibes</button>
    </div>
    <footer>
      <span id="status">Jan 13 2026 ~03:35 GMT â€¢ @iandreme (Swagga Rico)</span>
    </footer>
  </div>
  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
  <script>
    // â”€â”€ Map Setup â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    const map = L.map('map').setView([51.507, -0.128], 11);
    L.tileLayer('https://{s}.basemaps.cartocdn.com/dark_all/{z}/{x}/{y}{r}.png', {
      attribution: 'Â© OpenStreetMap & CARTO'
    }).addTo(map);

    // Your avatar (@iandreme / Swagga Rico)
    const youIcon = L.divIcon({
      html: '<div style="width:56px;height:56px;border-radius:50%;overflow:hidden;border:3px solid #0af;box-shadow:0 0 12px #0af"><img src="https://pbs.twimg.com/profile_images/1452130026212765700/q9iBQMu8_400x400.jpg" style="width:100%;height:100%;object-fit:cover"></div>',
      iconSize: [56, 56],
      iconAnchor: [28, 28],
      className: ''
    });

    // X post marker
    const xIcon = L.divIcon({
      html: '<div style="background:#000;border:2px solid #1da1f2;border-radius:50%;width:44px;height:44px;display:flex;align-items:center;justify-content:center;color:#1da1f2;font-weight:bold">X</div>',
      iconSize: [44, 44],
      iconAnchor: [22, 22],
      className: ''
    });

    const postsLayer = L.layerGroup().addTo(map);
    let youMarker = null;

    // â”€â”€ IMPORTANT: Replace with YOUR secure proxy URL â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    // Example: https://your-vercel-app.vercel.app/api/tweets
    // NEVER put bearer token in client-side code! Use backend for auth.
    const PROXY_API_URL = "MHdqkeWgOK17jjk4nASaIQU2U";  // â† CHANGE THIS TO YOUR PROXY!

    async function fetchLivePosts(keyword = '') {
      const baseQuery = '("Michael Carrick" OR Carrick) ("Manchester United" OR MUFC OR "Man Utd") lang:en';
      const q = keyword.trim() ? `${keyword} lang:en` : baseQuery;

      try {
        const res = await fetch(`${PROXY_API_URL}?q=${encodeURIComponent(q)}`);
        if (!res.ok) throw new Error('Proxy error: ' + res.status);
        
        const data = await res.json();
        return (data.data || []).map(tweet => ({
          u: data.includes?.users?.find(u => u.id === tweet.author_id)?.username || 'unknown',
          t: tweet.text,
          url: `https://x.com/i/web/status/${tweet.id}`
        }));
      } catch (err) {
        console.error('Fetch failed:', err);
        document.getElementById('status').textContent = 'Error loading live posts â€“ check proxy setup';
        return fallbackPosts;  // Use static fallback if proxy fails
      }
    }

    // Updated fallback real-time X posts (Jan 13 2026 ~03:35 GMT) â€“ Carrick/MUFC vibes from X API
    const fallbackPosts = [
      { u: 'Duke_Utd', t: 'Since his interview with the club, Michael Carrick has gained strong internal support at Manchester United. Sir Alex Ferguson is also believed to prefer Carrick over Ole Gunnar Solskjaer.', url: 'https://x.com/i/web/status/2010918620910534674' },
      { u: 'PrimePitch_', t: 'Michael Carrick has accepted all conditions of Manchester United contract proposal.', url: 'https://x.com/i/web/status/2010917026772996274' },
      { u: 'olaonx', t: 'ğŸš§ğŸš¨ Carrick beats Ole to Man Utd job: Club to announce interim boss in next 48 hours.', url: 'https://x.com/i/web/status/2010916606168252551' },
      { u: 'EusebioSudi', t: 'Youâ€™re already telling Carrick how he should set up his teamğŸ˜‚ğŸ˜‚ğŸ˜‚ğŸ˜‚ğŸ˜‚ who bewitched Manchester United', url: 'https://x.com/i/web/status/2010916224599822500' },
      { u: 'UtdHenry9', t: 'Sir Alex Ferguson recommended Michael Carrick over Ole Gunnar Solskjaer for the #MUFC interim manager role (@talkSPORT)', url: 'https://x.com/i/web/status/2010914545208803656' },
      { u: 'JoySmith830230', t: 'Youâ€™d not hear any negatives concerning their friends fletcher & incoming carrick', url: 'https://x.com/i/web/status/2010913195092033827' },
      { u: 'RubenAmorimx', t: 'Sir Alex Ferguson recommended Michael Carrick over Ole Gunnar Solskjaer for the #mufc interim manager role [@talkSPORT]', url: 'https://x.com/i/web/status/2010912832196378835' },
      { u: 'utdreport', t: 'Sir Alex Ferguson recommended Michael Carrick over Ole Gunnar Solskjaer for the #mufc interim manager role [@talkSPORT]', url: 'https://x.com/i/web/status/2010912563786367027' },
      { u: 'markhoorocks', t: 'Language and emoji used gave the impression that you seemed upset by the question. I\'ve no emotional investment in the situation, so I don\'t see that appointing Ole has any net benefit over Carrick. The issues remain either way. And no alignment works for me. ğŸ¤', url: 'https://x.com/i/web/status/2010912140455252279' },
      { u: 'wakibi_z', t: 'Michael Carrick\'s first two games as Man Utd manager would be: ğŸ†š Man City (H) ğŸ†š Arsenal (A) A huge first test should the former interim manager return ğŸ˜³', url: 'https://x.com/i/web/status/2010911935097913748' },
      { u: 'markhoorocks', t: 'Do you always get this upset when someone challenges your point of view? Or just because it\'s twitter? Calm down. I don\'t agree, I\'m not trying to change your mind, you don\'t need to change mine. Carrick won 2 and drew 1 as interim manger. There, stats. ğŸ˜†', url: 'https://x.com/i/web/status/2010909392510861662' },
      { u: 'DailyPitchRpt', t: 'Manchester United to confirm Michael Carrick as interim manager https://www.theguardian.com/football/2026/jan/12/manchester-united-to-confirm-michael-carrick-as-interim-manager', url: 'https://x.com/i/web/status/2010907983077859477' },
      { u: 'KavinM673978', t: 'â€¢ Carrick  is set to be Unitedâ€™s interim head coach until season end â€¢ Contract ready & conditions accepted â€¢ Final talks over backroom staff â€¢ United want it done this week â€¢ Carrick ready for the Manchester derby #MUFC', url: 'https://x.com/i/web/status/2010905774042857818' },
      { u: 'Cubillas62', t: 'Anybody Entering The Megastore is Contributing to The Downfall of Manchester United & are Being used By The Filthy ğŸ‡®ğŸ‡±ğŸ’µ Glazer family, Fans Will see No success under Glazers Who ever The Manager is, Carrick or Ole -  silence fans appointments!  It Musnt Work! #GlazersOut', url: 'https://x.com/i/web/status/2010902736444014612' },
      { u: 'mufc_micky', t: 'By making that statement Carrick is basically saying IDGAF about anything pundits blabber about what I do', url: 'https://x.com/i/web/status/2010902209501007933' },
      { u: 'Anyimanutd', t: 'ğŸš¨ğŸš¨BREAKING: Sir Alex Ferguson recommended Michael Carrick over Ole Gunnar Solskjaer for the interim manager role.  [@talkSPORT] #MUFC', url: 'https://x.com/i/web/status/2010901218114036190' },
      { u: 'XSportpulse', t: 'ğŸš¨ğŸš¨ BREAKING: Sir Alex Ferguson has advised Manchester United to appoint Michael Carrick over Ole Gunnar SolskjÃ¦r for the interim manager role. (Source: @talkSPORT)', url: 'https://x.com/i/web/status/2010900985032683694' },
      { u: 'footb___updates', t: 'ğŸš¨ğŸš¨ BREAKING: Sir Alex Ferguson has reportedly advised Manchester United to appoint Michael Carrick as interim manager â€” ahead of Ole Gunnar SolskjÃ¦r. ğŸ‘€ğŸ”´ [@talkSPORT]', url: 'https://x.com/i/web/status/2010900086000361549' },
      { u: 'FOLINTV', t: 'Manchester United are edging closer to appointing Michael Carrick as interim manager until the end of the season. Talks are progressing, with backroom staff the main focus, as Carrick emerges ahead of Ole Gunnar Solskjaer following Ruben Amorimâ€™s dismissal.#ManUtd #MichaelCarrick #PremierLeague #MUFC #FootballNews', url: 'https://x.com/i/web/status/2010898790254067805' },
      { u: 'DNA_MUFC', t: 'I\'m happy it\'s not Ole. Under Ole that\'s when player power became a thing with his chilled back attitude allowed the players to get bigger than the manager. Also what made him so "good" at United was when he had Carrick and McKenna with him which he don\'t have anymore.', url: 'https://x.com/i/web/status/2010898291949785547' }
    ];

    function showYou(lat, lng) {
      if (youMarker) youMarker.remove();
      youMarker = L.marker([lat, lng], {icon: youIcon}).addTo(map)
        .bindPopup("You â€¢ @iandreme â€¢ Swagga Rico", {autoClose: false}).openPopup();
      map.flyTo([lat, lng], 13, {duration: 1.5});
    }

    function addPost(lat, lng, username, text, url) {
      const marker = L.marker([lat, lng], {icon: xIcon}).addTo(postsLayer);
      marker.bindPopup(`<b>@${username}</b><br>${text.slice(0, 90)}${text.length > 90 ? '...' : ''}<br><a href="${url}" target="_blank" style="color:#1da1f2">â†’ View on X</a>`);
    }

    async function loadVibes(keyword = '') {
      postsLayer.clearLayers();
      document.getElementById('status').textContent = 'Loading live X vibes...';

      let posts = await fetchLivePosts(keyword);
      if (posts.length === 0) posts = fallbackPosts.filter(p => !keyword || p.t.toLowerCase().includes(keyword.toLowerCase().trim()) || p.u.toLowerCase().includes(keyword.toLowerCase().trim()));

      posts.forEach(p => {
        const offLat = (Math.random() - 0.5) * 0.05;
        const offLng = (Math.random() - 0.5) * 0.07;
        addPost(51.507 + offLat, -0.128 + offLng, p.u, p.t, p.url);
      });

      document.getElementById('status').textContent = `${posts.length} live X posts loaded â€¢ Carrick / MUFC vibes â€¢ Jan 13 2026 ~03:35 GMT`;
    }

    // GPS â†’ fallback to London
    navigator.geolocation.getCurrentPosition(
      pos => showYou(pos.coords.latitude, pos.coords.longitude),
      () => showYou(51.507, -0.128)
    );

    // Event listeners + auto-load
    document.getElementById('load').onclick = () => loadVibes();
    // Note: Search elements not in HTML, but if added: document.getElementById('search-btn').onclick = () => loadVibes(document.getElementById('keyword').value);

    setTimeout(() => loadVibes(), 1500);
  </script>
</body>
</html>
```â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹