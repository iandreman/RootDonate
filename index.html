<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>RootDonate â€¢ Live X Vibes (Swagga Rico)</title>
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"/>
  <style>
    body, html {
      margin: 0;
      height: 100%;
      background: #000;
      color: #fff;
      font-family: system-ui, sans-serif;
      overflow: hidden;
    }
    #map { height: 100%; }
    .header {
      position: absolute;
      top: 12px;
      left: 0;
      right: 0;
      text-align: center;
      pointer-events: none;
      z-index: 1000;
    }
    h1 {
      font-size: 2.8rem;
      font-weight: 900;
      letter-spacing: -1px;
      background: linear-gradient(90deg, #0af, #0f5, #f90);
      -webkit-background-clip: text;
      background-clip: text;
      color: transparent;
    }
    .search {
      position: absolute;
      top: 60px;
      left: 50%;
      transform: translateX(-50%);
      z-index: 1001;
      background: rgba(0,0,0,0.7);
      backdrop-filter: blur(8px);
      padding: 12px;
      border-radius: 12px;
      border: 1px solid #444;
      width: 90%;
      max-width: 420px;
      text-align: center;
    }
    input, button {
      padding: 8px 12px;
      border: none;
      border-radius: 6px;
      margin: 6px;
    }
    input {
      width: 65%;
      background: #222;
      color: #fff;
    }
    button {
      background: #1da1f2;
      color: #fff;
      cursor: pointer;
    }
    footer {
      position: absolute;
      bottom: 0;
      left: 0;
      right: 0;
      padding: 10px;
      background: rgba(0,0,0,0.8);
      text-align: center;
      font-size: 0.9rem;
      z-index: 1000;
    }
  </style>
</head>
<body>
      <div class="search">
    <input id="keyword" placeholder="carrick / united / vibes / uk / blank = all" value="">
    <button id="load">Load Live X Vibes</button>
  </div>
  <div id="map"></div>

  <div class="header">
    <h1>RootDonate</h1>
  </div>

  <footer>
    <span id="status">Live X vibes â€¢ Jan 12 2026 ~19:09 GMT â€¢ @iandreme (Swagga Rico) â€¢ Carrick interim buzz heavy</span>
  </footer>

  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
  <script>
    // â”€â”€ Map Setup â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    const map = L.map('map').setView([51.507, -0.128], 11);
    L.tileLayer('https://{s}.basemaps.cartocdn.com/dark_all/{z}/{x}/{y}{r}.png', {
      attribution: 'Â© OpenStreetMap & CARTO'
    }).addTo(map);

    // Your avatar (@iandreme / Swagga Rico)
    const youIcon = L.divIcon({
      html: '<div style="width:56px;height:56px;border-radius:50%;overflow:hidden;border:3px solid #0af;box-shadow:0 0 12px #0af"><img src="https://pbs.twimg.com/profile_images/1452130026212765700/q9iBQMu8_400x400.jpg" style="width:100%;height:100%;object-fit:cover"></div>',
      iconSize: [56, 56],
      iconAnchor: [28, 28],
      className: ''
    });

    // X post marker
    const xIcon = L.divIcon({
      html: '<div style="background:#000;border:2px solid #1da1f2;border-radius:50%;width:44px;height:44px;display:flex;align-items:center;justify-content:center;color:#1da1f2;font-weight:bold">X</div>',
      iconSize: [44, 44],
      iconAnchor: [22, 22],
      className: ''
    });

    const postsLayer = L.layerGroup().addTo(map);
    let youMarker = null;

    // â”€â”€ IMPORTANT: Replace with YOUR secure proxy URL â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    // Example: https://your-vercel-app.vercel.app/api/tweets
    // NEVER put bearer token in client-side code! Use backend for auth.
    const PROXY_API_URL = "https://www.rootdonate.co.uk/@";  // â† CHANGE THIS TO YOUR PROXY!

    async function fetchLivePosts(keyword = '') {
      const baseQuery = '("Michael Carrick" OR Carrick) ("Manchester United" OR MUFC OR "Man Utd") lang:en';
      const q = keyword.trim() ? `${keyword} lang:en` : baseQuery;

      try {
        const res = await fetch(`${PROXY_API_URL}?q=${encodeURIComponent(q)}`);
        if (!res.ok) throw new Error('Proxy error: ' + res.status);
        
        const data = await res.json();
        return (data.data || []).map(tweet => ({
          u: data.includes?.users?.find(u => u.id === tweet.author_id)?.username || 'unknown',
          t: tweet.text,
          url: `https://x.com/i/web/status/${tweet.id}`
        }));
      } catch (err) {
        console.error('Fetch failed:', err);
        document.getElementById('status').textContent = 'Error loading live posts â€“ check proxy setup';
        return fallbackPosts;  // Use static fallback if proxy fails
      }
    }

    // Updated fallback real-time X posts (Jan 12 2026 ~19:09 GMT) â€“ Carrick/MUFC vibes from X API
    const fallbackPosts = [
      { u: "BANYAKIGEZI", t: "ğŸš¨ Michael Carrick has accepted all conditions of Manchester United contract proposal.\n\nThe agreement is almost done and it will be sealed THIS week, as expected.\n\nHere we go, soon. \n#EBYEMIZAANO\n#HereWeGo", url: "https://x.com/BANYAKIGEZI/status/2010790875174236205" },
      { u: "Universal_News0", t: "ğŸš¨| EXCL: Michael Carrick is set to be confirmed as Manchester Unitedâ€™s interim manager. Agreement in place, announcement imminent. United impressed by his ideas and style, with Sir Alex Ferguson supporting the decision. \n#mufc \n\nVia @JSTransferTime", url: "https://x.com/Universal_News0/status/2010790856429862915" },
      { u: "Rahul_AJ_1990", t: "I will support Carrick, but I still can't believe that Man Utd has chosen him over Ole Gunnar SolskjÃ¦r.\n\nOle has the ambition. Carrick is \"realistic.\"\n\nWilcox is a pos.", url: "https://x.com/Rahul_AJ_1990/status/2010790649415840106" },
      { u: "ObieAndrew", t: "As a Manchester United fan\n\nYou have Solskjaer who wants to perform to get the job, and Carrick who understands that it's a short term gig and isn't really motivated to make it to the top 4 since a permanent job is not on the table.\n\nGive me Ole man", url: "https://x.com/ObieAndrew/status/2010790598543098040" },
      { u: "espnpodcasts", t: "\"Take your time and choose the right permanent manager, DO NOT let them sway you.\"\n\n@Marcotti & @LaurensJulien support Michael Carrick being named interim manager for Manchester United but warn about a few good games swaying opinion", url: "https://x.com/espnpodcasts/status/2010790445786562973" },
      { u: "marcel_aromeh", t: "ğŸš¨ğŸš¨| Carrick to United interim? \nPlayers pushing HARD for him.  Talks today to seal the deal, Woodgate possibly joining the staff too. After that Brighton disaster yesterday (Welbeck haunting us AGAIN ), we need stability NOW.\n#MUFC_FAMILY", url: "https://x.com/marcel_aromeh/status/2010790298272837654" },
      { u: "anteneh08", t: "@Jonah_MUFC and our club is debating between carrick and ole", url: "https://x.com/anteneh08/status/2010790296771314008" },
      { u: "RedlingMUFC", t: "Good point I just heard:\n\nItâ€™s crazy that weâ€™ll replace Michael Carrick as a manager in the summer, yet we havenâ€™t managed to adequately replace him in the United midfield in the EIGHT years since he retired.\n\nBring your boots, Michael. Youâ€™re still better than Ugarte.", url: "https://x.com/RedlingMUFC/status/2010790155704250781" },
      { u: "GossipCurator", t: "Carrick and Manchester United are ending this season without trophy already", url: "https://x.com/GossipCurator/status/2010789894961139856" },
      { u: "SoccerJabber", t: "ğŸš¨ğŸš¨ğŸ™ï¸| Wayne Rooney on if he would join Michael Carrick at Manchester United as part of his coaching staff:\n\nâ€œOf course I would! I think itâ€™s a no-brainer if thatâ€™s the situation.â€", url: "https://x.com/SoccerJabber/status/2010789796386652303" },
      { u: "GossipCurator", t: "Who is ending the season more successful?\n\nCarrick for Manchester United \n\nOr\nAlvaro Arbeloa for Real Madrid\n\n#ã‚·ã‚¯ã‚¹ãƒˆ\n#ì•ŒíŒŒë“œë¼ì´ë¸Œì›â€¯â€¯â€¯\n\nBarcelona Carrick Kanu Alaafin  Olubadan Funke Akindele  Fela Rashford Xabi Alonso Arbeloa", url: "https://x.com/GossipCurator/status/2010789765432623305" },
      { u: "UnitedInFocus", t: "Michael Carrick is the leading candidate to take charge of Manchester United... for the second time ğŸ’ª https://www.unitedinfocus.com/news/looking-back-at-michael-carricks-time-as-man-united-interim-manager-results-records-and-formation/?utm_source=dlvr.it&utm_medium=twitter #MUFC #PremierLeague #ManchesterUnited", url: "https://x.com/UnitedInFocus/status/2010789404189868531" },
      { u: "RaphaelCecco", t: "Carrick will keep Man Utd in the premier league. I believe!!! #ManUtd", url: "https://x.com/RaphaelCecco/status/2010789396820422878" },
      { u: "02_darcey", t: "Welcome back, Carrick. I'm afraid the season is gone already but love this man to bits #mufc\n\nhttps://t.co/A48aIoXeK2", url: "https://x.com/02_darcey/status/2010789371646279805" },
      { u: "United_concert1", t: "Manchester United, Old Trafford â€” built on a culture of winningğŸ‘‘\nBut now....\n\n#MUFC Carrick #RatcliffeOut #MANUTD #ManchesterDerby #MCFC #ManUnited #ManCity\n#UnitedvsCity", url: "https://x.com/United_concert1/status/2010789228075241794" },
      { u: "WT_Trending", t: "From world-class teammate to inspiring manager. Michael Carrick's journey is just beginning. #Carrick #ManchesterUnited #MUFC #Football https://77thhub.asia/link/michael-carrick-class-act-player-great-coach-future", url: "https://x.com/WT_Trending/status/2010788998239961344" },
      { u: "ReallyNiceDerek", t: "Heard Michael Carrick's prefered formation is the double helix. Manchester United DNA\n\n(Most people wonâ€™t get this)", url: "https://x.com/ReallyNiceDerek/status/2010788818484674818" },
      { u: "GloryGloryPod", t: "Jonathan Woodgate will be joining Carrick according to Jamie Jackson of The Guardian. Fletcher will also be offered role. Carrick will get transfer funds for the right targets apparently.  I donâ€™t believe that. #mufc ğŸ‡¾ğŸ‡ª", url: "https://x.com/GloryGloryPod/status/2010788676285108453" },
      { u: "alkassenglish", t: "Michael Carrick is reportedly keen to bring Jonathan Woodgate into his Manchester United backroom staff.#MUFC #MichaelCarrick #JonathanWoodgate #PremierLeague #ManUtdNews", url: "https://x.com/alkassenglish/status/2010788620136013960" },
      { u: "ThomasSporsheim", t: "And Wilcox is getting in his old team mate from Leeds to assist Carrick? I'm absolutely fuming. Yeah I know he comes with the Carrick territory, but come on. So much for any good feeling for now on till may 24 away to Brighton where we will get beat 4-0 in 14th place. #mufc", url: "https://x.com/ThomasSporsheim/status/2010788396457955501" }
    ];

    function showYou(lat, lng) {
      if (youMarker) youMarker.remove();
      youMarker = L.marker([lat, lng], {icon: youIcon}).addTo(map)
        .bindPopup("You â€¢ @iandreme â€¢ Swagga Rico", {autoClose: false}).openPopup();
      map.flyTo([lat, lng], 13, {duration: 1.5});
    }

    function addPost(lat, lng, username, text, url) {
      const marker = L.marker([lat, lng], {icon: xIcon}).addTo(postsLayer);
      marker.bindPopup(`<b>@${username}</b><br>${text.slice(0, 90)}${text.length > 90 ? '...' : ''}<br><a href="${url}" target="_blank" style="color:#1da1f2">â†’ View on X</a>`);
    }

    async function loadVibes(keyword = '') {
      postsLayer.clearLayers();
      document.getElementById('status').textContent = 'Loading live X vibes...';

      let posts = await fetchLivePosts(keyword);
      if (posts.length === 0) posts = fallbackPosts.filter(p => !keyword || p.t.toLowerCase().includes(keyword.toLowerCase().trim()) || p.u.toLowerCase().includes(keyword.toLowerCase().trim()));

      posts.forEach(p => {
        const offLat = (Math.random() - 0.5) * 0.05;
        const offLng = (Math.random() - 0.5) * 0.07;
        addPost(51.507 + offLat, -0.128 + offLng, p.u, p.t, p.url);
      });

      document.getElementById('status').textContent = `${posts.length} live X posts loaded â€¢ Carrick / MUFC vibes â€¢ Jan 12 2026 ~19:09 GMT`;
    }

    // GPS â†’ fallback to London
    navigator.geolocation.getCurrentPosition(
      pos => showYou(pos.coords.latitude, pos.coords.longitude),
      () => showYou(51.507, -0.128)
    );

    // Event listeners + auto-load
    document.getElementById('load').onclick = () => {
      loadVibes(document.getElementById('keyword').value);
    };

    setTimeout(() => loadVibes(), 1500);
  </script>
</body>
</html>
```â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹