<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>RootDonate Live X Vibes â€¢ Carrick Era @ MUFC â€“ Real GPS Nodes from X</title>
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5p5QbskXk=" crossorigin="anonymous" />
  <style>
    body, html {
      margin: 0;
      height: 100%;
      background: #000;
      color: #fff;
      font-family: system-ui, sans-serif;
      overflow: auto;
    }
    #map-container {
      position: relative;
      height: 80vh;
    }
    #map {
      height: 100%;
    }
    .header {
      position: absolute;
      top: 12px;
      left: 0;
      right: 0;
      text-align: center;
      pointer-events: none;
      z-index: 1000;
    }
    h1 {
      font-size: 2.8rem;
      font-weight: 900;
      letter-spacing: -1px;
      background: linear-gradient(90deg, #0af, #0f5, #f90);
      -webkit-background-clip: text;
      background-clip: text;
      color: transparent;
    }
    footer {
      position: absolute;
      bottom: 0;
      left: 0;
      right: 0;
      padding: 10px;
      background: rgba(0, 0, 0, 0.8);
      text-align: center;
      font-size: 0.9rem;
      z-index: 1000;
    }
    #result {
      margin: 20px 15px;
      padding: 15px;
      background: #1a1a1a;
      border-radius: 8px;
      white-space: pre-wrap;
      font-family: monospace;
    }
    button {
      padding: 10px 20px;
      background: #1d9bf0;
      border: none;
      color: white;
      border-radius: 9999px;
      cursor: pointer;
      margin: 5px;
      font-weight: 600;
    }
    button:hover {
      background: #1a8cd8;
    }
    input {
      margin: 5px;
      padding: 8px 12px;
      border-radius: 6px;
      border: 1px solid #333;
      background: #222;
      color: #fff;
      font-size: 1rem;
    }
    label {
      pointer-events: all;
      margin-right: 8px;
    }
  </style>
</head>
<body>
  <div id="map-container">
    <div id="map"></div>

    <div class="header" style="pointer-events: all;">
      <h1>RootDonate</h1>
      <label for="keyword">Search Keyword:</label>
      <input id="keyword" placeholder="e.g. training, Carrington, Amad" />
      <button id="loadButton">Load Real X GPS Vibes</button>
      <button id="zoomButton">Zoom to Carrington ğŸ”¥</button>
    </div>

    <footer>
      <span id="status">Jan 21 2026 ~07:00 GMT â€¢ @iandreme (Swagga Rico) â€¢ #MUFC Carrick Era â€¢ Real X Posts as Internet GPS Nodes</span>
    </footer>
  </div>

  <div id="result"></div>

  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js" integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo=" crossorigin="anonymous"></script>
  <script>
    // â”€â”€ Map Setup â”€â”€
    const map = L.map('map').setView([53.4631, -2.2913], 11);
    L.tileLayer('https://{s}.basemaps.cartocdn.com/dark_all/{z}/{x}/{y}{r}.png', {
      attribution: 'Â© OpenStreetMap & CARTO'
    }).addTo(map);

    // Custom icons
    const youIcon = L.divIcon({
      html: '<div style="width:56px;height:56px;border-radius:50%;overflow:hidden;border:3px solid #0af;box-shadow:0 0 12px #0af"><img src="https://pbs.twimg.com/profile_images/1452130026212765700/q9iBQMu8_400x400.jpg" style="width:100%;height:100%;object-fit:cover"></div>',
      iconSize: [56, 56],
      iconAnchor: [28, 28],
      className: ''
    });

    const xIcon = L.divIcon({
      html: '<div style="background:#000;border:2px solid #1da1f2;border-radius:50%;width:44px;height:44px;display:flex;align-items:center;justify-content:center;color:#1da1f2;font-weight:bold">X</div>',
      iconSize: [44, 44],
      iconAnchor: [22, 22],
      className: ''
    });

    const postsLayer = L.layerGroup().addTo(map);
    let youMarker = null;

    // â”€â”€ Real X posts data (Carrick Era â€“ update dates/IDs as needed) â”€â”€
    const realXPosts = [
      { u: 'SkySportsPL', t: 'Michael Carrick takes charge of training for the first time with his new coaching staff at Manchester UnitedğŸ”´', url: 'https://x.com/SkySportsPL/status/2011484158585905614', lat: 53.4631, lng: -2.2913, hasMedia: true },
      { u: 'UtdDistrict', t: 'ğŸš¨ğŸ“¸ | Michael Carrick takes his FIRST #mufc training session! ğŸ”¥', url: 'https://x.com/UtdDistrict/status/2011476199164260513', lat: 53.4631, lng: -2.2913, hasMedia: true },
      { u: 'mufcMPB', t: 'The first training session under Michael Carrick & the new coaching team ğŸ“¸', url: 'https://x.com/mufcMPB/status/2011478650667847933', lat: 53.4631, lng: -2.2913, hasMedia: true },
      { u: 'manunitedviews_', t: 'Manchester United\'s new Head Coach Michael Carrick and his team take their first training session at Carrington. #MUFC', url: 'https://x.com/manunitedviews_/status/2011518930972811529', lat: 53.4631, lng: -2.2913, hasMedia: true },
      { u: 'UtdJoshua03', t: 'ğŸ“¸ğŸš¨| Manchester Unitedâ€™s first training session under Michael Carrick #MUFC', url: 'https://x.com/UtdJoshua03/status/2011479103648518469', lat: 53.4631, lng: -2.2913, hasMedia: true },
      { u: 'TheFergusonWay', t: 'ğŸ“ Carrington Michael Carrick, Jonathan Woodgate, Steve Holland and Jonny Evans pictured training.', url: 'https://x.com/TheFergusonWay/status/2011477593103683840', lat: 53.4631, lng: -2.2913, hasMedia: true },
      { u: 'TyMarshall_MEN', t: 'ğŸ“¸ Jason Wilcox among those watching on as Michael Carrick took his first #mufc training session today', url: 'https://x.com/TyMarshall_MEN/status/2011486645959188655', lat: 53.4631, lng: -2.2913, hasMedia: true },
      { u: 'UtdHenry9', t: 'ğŸš¨ğŸ“¸ | Michael Carrick takes his first Manchester United training session! ğŸ¤© #MUFC', url: 'https://x.com/UtdHenry9/status/2011488854058922342', lat: 53.4631, lng: -2.2913, hasMedia: true },
      { u: 'TheUtdSpace', t: 'ğŸ“¸ JUST IN: Michael Carrick in his first training session at Carrington! #MUFC', url: 'https://x.com/TheUtdSpace/status/2011476656288899552', lat: 53.4631, lng: -2.2913, hasMedia: true },
      { u: 'SamC_reports', t: 'ğŸš¨ BREAKING: Amad and Bryan Mbeumo were welcomed back into training... first session at Carrington', url: 'https://x.com/SamC_reports/status/2011457376088375449', lat: 53.4631, lng: -2.2913, hasMedia: true },
      { u: 'UtdAngle', t: 'ğŸ“¸ğŸ’ª Michael Carrick\'s first training session. #mufc', url: 'https://x.com/UtdAngle/status/2011479145994195066', lat: 53.4631, lng: -2.2913, hasMedia: true }
    ];

    function showYou(lat, lng) {
      if (youMarker) youMarker.remove();
      youMarker = L.marker([lat, lng], { icon: youIcon }).addTo(map)
        .bindPopup("You â€¢ @iandreme â€¢ Swagga Rico (UK IP)", { autoClose: false }).openPopup();
      map.flyTo([lat, lng], 13, { duration: 1.5 });
    }

    function addXNode(lat, lng, username, text, url, hasMedia) {
      const jitterLat = lat + (Math.random() - 0.5) * 0.006;
      const jitterLng = lng + (Math.random() - 0.5) * 0.009;

      const marker = L.marker([jitterLat, jitterLng], { icon: xIcon }).addTo(postsLayer);
      marker.bindPopup(`
        <b>@${username}</b><br>
        ${text.slice(0, 140)}${text.length > 140 ? '...' : ''}<br>
        ${hasMedia ? '<small>ğŸ“¸ / ğŸ¥ Media attached</small><br>' : ''}
        <small>Internet GPS Node: ~${lat.toFixed(4)}, ${lng.toFixed(4)} (Carrington â€“ real X post)</small><br>
        <a href="${url}" target="_blank" style="color:#1da1f2">â†’ View full post on X</a>
      `);
    }

    async function loadVibes(keyword = '') {
      postsLayer.clearLayers();
      document.getElementById('status').textContent = 'Pulling real Carrick Era X posts as GPS nodes...';

      const filtered = realXPosts.filter(p =>
        !keyword ||
        p.t.toLowerCase().includes(keyword.toLowerCase().trim()) ||
        p.u.toLowerCase().includes(keyword.toLowerCase().trim())
      );

      filtered.forEach(p => addXNode(p.lat, p.lng, p.u, p.t, p.url, p.hasMedia));

      document.getElementById('status').textContent =
        `${filtered.length} real X GPS nodes loaded â€¢ Carrick's first training vibes â€¢ Sourced from X â€¢ Jan 21 2026`;
    }

    // Event listeners
    document.getElementById('loadButton').addEventListener('click', () => {
      const keyword = document.getElementById('keyword').value.trim();
      loadVibes(keyword);
    });

    document.getElementById('zoomButton').addEventListener('click', () => {
      map.setView([53.4631, -2.2913], 14, { animate: true, duration: 1.5 });
    });

    // Geolocation â†’ fallback to Carrington
    navigator.geolocation.getCurrentPosition(
      pos => showYou(pos.coords.latitude, pos.coords.longitude),
      () => showYou(53.4631, -2.2913)
    );

    // Auto-load on page start
    setTimeout(() => loadVibes(), 1200);
  </script>
</body>
</html>