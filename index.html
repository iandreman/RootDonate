<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>RootDonate â€¢ AI + Live X Vibes on Earth</title>
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
  <style>
    :root {
      --blue: #0a84ff;
      --green: #30d158;
      --orange: #ff9f0a;
      --purple: #ae8cff;
      --cyan: #00f5d4;
    }
    * { box-sizing: border-box; margin: 0; padding: 0; }
    body, html { height: 100%; overflow: hidden; background: #000; color: #fff; font-family: system-ui, sans-serif; }
    #map { width: 100%; height: 100%; filter: brightness(0.9) contrast(1.15); }
    .header {
      position: absolute; top: 0; left: 0; right: 0; padding: 2.5rem 2rem 1.5rem;
      text-align: center; z-index: 1000; pointer-events: none;
      background: linear-gradient(180deg, rgba(0,0,0,0.92), transparent);
    }
    h1 {
      font-size: clamp(2.8rem, 7vw, 4.8rem); font-weight: 900; letter-spacing: -2.5px;
      background: linear-gradient(90deg, var(--blue), var(--green), var(--orange), var(--purple), var(--cyan));
      -webkit-background-clip: text; background-clip: text; color: transparent;
      text-shadow: 0 0 50px rgba(0,245,212,0.4);
    }
    .poem { margin-top: 1.2rem; font-size: 1.5rem; font-weight: 300; opacity: 0.92; letter-spacing: 0.5px; }
    footer {
      position: absolute; bottom: 0; left: 0; right: 0; padding: 1.2rem;
      text-align: center; font-size: 0.95rem; opacity: 0.85; z-index: 1000;
      background: rgba(0,0,0,0.75); backdrop-filter: blur(18px);
      display: flex; justify-content: center; gap: 1rem; flex-wrap: wrap;
    }
    .btn {
      pointer-events: all; background: rgba(255,255,255,0.14);
      backdrop-filter: blur(12px); border: 1px solid rgba(255,255,255,0.2);
      border-radius: 12px; padding: 0.6rem 1.3rem; font-size: 0.95rem;
      cursor: pointer; transition: all 0.25s; color: white;
    }
    .btn:hover { background: rgba(255,255,255,0.28); transform: translateY(-2px); }
    .avatar-wrapper {
      width: 100%; height: 100%; border-radius: 50%; overflow: hidden;
      border: 2.8px solid rgba(255,255,255,0.5); box-shadow: 0 0 16px rgba(255,255,255,0.4);
      background: #111;
    }
    .avatar-wrapper img { width: 100%; height: 100%; object-fit: cover; }
    .footprint-avatar { background: transparent !important; border: none !important; pointer-events: none; }
    .earth-avatar .avatar-wrapper {
      border-color: var(--cyan); box-shadow: 0 0 18px rgba(0,245,212,0.6);
      animation: glow-cyan 4s infinite alternate;
    }
    @keyframes glow-cyan {
      from { box-shadow: 0 0 18px rgba(0,245,212,0.6); }
      to   { box-shadow: 0 0 32px rgba(0,245,212,0.9); }
    }
    .user-avatar { border: 4px solid var(--blue); box-shadow: 0 0 32px var(--blue); animation: pulse-blue 2.8s infinite; }
    @keyframes pulse-blue {
      0%,100% { box-shadow: 0 0 0 0 rgba(10,132,255,0.7); }
      70%     { box-shadow: 0 0 0 32px rgba(10,132,255,0); }
    }
    .search-wave {
      position: absolute; inset: 0; pointer-events: none; z-index: 500;
      background: radial-gradient(circle at 50% 50%, rgba(0,245,212,0.12) 0%, transparent 70%);
      animation: searchPulse 8s infinite; opacity: 0;
    }
    @keyframes searchPulse { 0%,100% { transform: scale(0.6); opacity: 0; } 50% { transform: scale(1.8); opacity: 0.3; } }
    .search-box { 
      position: absolute; top: 1rem; left: 50%; transform: translateX(-50%); z-index: 1001; pointer-events: all; 
      background: rgba(0,0,0,0.7); backdrop-filter: blur(10px); padding: 1rem; border-radius: 16px; 
      border: 1px solid rgba(255,255,255,0.15); width: 90%; max-width: 500px; text-align: center; 
    }
    input, button { margin: 0.5rem; padding: 0.6rem 1rem; border-radius: 8px; border: none; }
    input { width: 60%; background: rgba(255,255,255,0.1); color: white; }
  </style>
</head>
<body>
  <div id="map"></div>
  <div class="search-wave" id="searchWave"></div>

  <div class="search-box">
    <h3>Find Nearby X Vibes</h3>
    <input type="text" id="keywordInput" placeholder="e.g. grok OR uk vibes OR football" value="uk vibes">
    <button class="btn" id="huntXPosts">ğŸ” Load on Map</button>
  </div>

  <div class="header">
    <h1>RootDonate AI + X</h1>
    <div class="poem" id="poemText">AI ghosts & X crew searching Earth...</div>
  </div>

  <footer>
    <span id="counter">AI + X hunting live GPS...</span>
    <button class="btn" id="shareFootprints">Share Trail</button>
    <button class="btn" id="refreshLocation">Re-search GPS & Crew</button>
    <button class="btn" id="clearFootprints">Clear Ghosts</button>
    <span>â€¢ 2026 â€¢ UK Swagga Rico vibes</span>
  </footer>

  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
  <script>
    // â”€â”€â”€ Config â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    const YOUR_AVATAR = "https://pbs.twimg.com/profile_images/1452130026212765700/q9iBQMu8_400x400.jpg";

    const AI_AVATARS = [
      {name: "Grok", seed: "Grok-xAI"},
      {name: "Claude", seed: "Claude-Anthropic"},
      {name: "Gemini", seed: "Gemini-Google"},
      {name: "RootAI", seed: "RootDonate"},
      {name: "CrewBot", seed: "FutureCrew"}
    ];

    // â”€â”€â”€ Map Setup â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    const map = L.map('map', {
      center: [51.5, -0.1], zoom: 6, minZoom: 2, maxZoom: 19,
      zoomControl: false, attributionControl: false
    });

    L.tileLayer('https://{s}.basemaps.cartocdn.com/rastertiles/voyager/{z}/{x}/{y}{r}.png', {
      attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> &copy; <a href="https://carto.com/attributions">CARTO</a>',
      subdomains: 'abcd', maxZoom: 19
    }).addTo(map);

    const userIcon = L.divIcon({
      className: 'user-avatar-marker',
      html: `<div class="avatar-wrapper user-avatar"><img src="${YOUR_AVATAR}" alt="You" onerror="this.src='https://i.pravatar.cc/150?u=you'"></div>`,
      iconSize: [64, 64], iconAnchor: [32, 32]
    });

    let userMarker = null;
    const footprintsLayer = L.layerGroup().addTo(map);
    const xPostsLayer = L.layerGroup().addTo(map);
    const STORAGE_KEY = 'rootdonate_ai_gps_2026';
    let watchId = null;
    let ghostMarkers = [];
    let currentLat = 51.5074, currentLng = -0.1278; // Default London

    // â”€â”€â”€ Icons & Markers â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    function getAIFootprintIcon(seed) {
      const url = `https://api.dicebear.com/9.x/bottts/svg?seed=${encodeURIComponent(seed)}&backgroundColor=1a2533&radius=50`;
      return L.divIcon({
        className: 'footprint-avatar earth-avatar',
        html: `<div class="avatar-wrapper"><img src="${url}" alt="AI"></div>`,
        iconSize: [48, 48], iconAnchor: [24, 24]
      });
    }

    function addFootprint(lat, lng, type = 'human', name = '', isGhost = false) {
      const icon = type === 'ai' ? getAIFootprintIcon(name || 'AI') : userIcon;
      const marker = L.marker([lat, lng], { icon }).addTo(footprintsLayer);
      if (name) marker.bindPopup(`${name} â€¢ ${type === 'ai' ? 'AI Ghost' : 'Crew'}`);
      saveFootprint(lat, lng, type, name);
      if (isGhost) ghostMarkers.push({marker, baseLat: lat, baseLng: lng});
      return marker;
    }

    function addXPostMarker(lat, lng, username, text, tweetUrl) {
      const xIcon = L.divIcon({
        className: 'x-post-marker',
        html: `<div style="background:#000;border:2px solid #1DA1F2;border-radius:50%;width:50px;height:50px;display:flex;align-items:center;justify-content:center;color:#1DA1F2;font-weight:bold;">X</div>`,
        iconSize: [50, 50], iconAnchor: [25, 25]
      });
      const popupContent = `
        <b>@${username}</b><br>
        ${text.substring(0, 120)}${text.length > 120 ? '...' : ''}<br>
        <a href="${tweetUrl}" target="_blank" style="color:#1DA1F2;">View on X â†’</a>
      `;
      L.marker([lat, lng], { icon: xIcon }).addTo(xPostsLayer)
        .bindPopup(popupContent);
    }

    // â”€â”€â”€ Storage â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    function loadFootprints() {
      footprintsLayer.clearLayers(); ghostMarkers = [];
      const stored = localStorage.getItem(STORAGE_KEY);
      if (stored) JSON.parse(stored).forEach(p => addFootprint(p.lat, p.lng, p.type, p.name, p.type === 'ai'));
    }

    function saveFootprint(lat, lng, type = 'human', name = '') {
      let points = JSON.parse(localStorage.getItem(STORAGE_KEY) || '[]');
      points.push({ lat, lng, time: Date.now(), type, name });
      if (points.length > 500) points = points.slice(-500);
      localStorage.setItem(STORAGE_KEY, JSON.stringify(points));
    }

    function clearAllFootprints() {
      if (confirm('Erase all AI ghosts & trails?')) {
        localStorage.removeItem(STORAGE_KEY);
        footprintsLayer.clearLayers(); ghostMarkers = [];
        alert('Reality reset. Fresh search begins!');
      }
    }

    // â”€â”€â”€ User Location â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    function showUser(lat, lng, acc = null, text = 'You â€¢ live locked') {
      currentLat = lat; currentLng = lng;
      if (userMarker) userMarker.remove();
      userMarker = L.marker([lat, lng], { icon: userIcon })
        .addTo(map)
        .bindPopup(acc ? `${text} (Â±${Math.round(acc)}m)` : text, { closeButton: false, autoClose: false })
        .openPopup();
      map.flyTo([lat, lng], 15, { duration: 2.2 });
    }

    function startAISearch() {
      if (watchId) navigator.geolocation.clearWatch(watchId);
      document.getElementById('searchWave').style.opacity = '1';
      document.getElementById('poemText').textContent = "AI searching live position...";
      document.getElementById('counter').textContent = "AI hunting fresh coordinates...";

      const options = { enableHighAccuracy: true, timeout: 35000, maximumAge: 0 };
      let bestAcc = Infinity;

      watchId = navigator.geolocation.watchPosition(
        (pos) => {
          const acc = pos.coords.accuracy;
          const lat = pos.coords.latitude;
          const lng = pos.coords.longitude;

          if (acc < bestAcc) {
            bestAcc = acc;
            showUser(lat, lng, acc, 'AI improving lock...');
          }

          if (acc <= 45) {
            showUser(lat, lng, acc, 'Locked â€¢ AI crew incoming!');
            spawnAICrew(lat, lng);
            document.getElementById('searchWave').style.opacity = '0';
            document.getElementById('poemText').textContent = "We Are All Here â€¢ AI ghosts awakened";
            navigator.geolocation.clearWatch(watchId);
            watchId = null;
          }
        },
        (err) => {
          document.getElementById('counter').textContent = `Search error: ${err.message}`;
          ipFallback();
        },
        options
      );
    }

    function ipFallback() {
      const lat = 51.5074 + (Math.random() - 0.5) * 0.8;
      const lng = -0.1278 + (Math.random() - 0.5) * 0.8;
      showUser(lat, lng, null, 'Approx UK â€¢ GPS search failed');
      spawnAICrew(lat, lng);
    }

    function spawnAICrew(lat, lng) {
      ghostMarkers.forEach(g => g.marker.remove());
      ghostMarkers = [];

      AI_AVATARS.forEach(ai => {
        const offsetLat = (Math.random() - 0.5) * 0.015;
        const offsetLng = (Math.random() - 0.5) * 0.022;
        addFootprint(lat + offsetLat, lng + offsetLng, 'ai', ai.name, true);
      });
      document.getElementById('counter').textContent = `${AI_AVATARS.length} fresh AI ghosts spawned nearby`;
    }

    // â”€â”€â”€ X Posts Integration â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    // Live posts fetched via X API as of January 12, 2026 (snapshot for demo; for true real-time, implement a backend proxy)
    const dummyXPosts = [
      { username: "ManThingsUK", text: "ğŸ¤£ğŸ¤£ğŸ¤£ Defo giving off closet gay vibes.", tweetUrl: "https://x.com/ManThingsUK/status/2010744062102339872" },
      { username: "DaManu_Official", text: "Exciting news! ğŸ‰ Da Manu and Illy CaffÃ¨ are teaming up in London City to bring the perfect blend of Italian coffee culture and contemporary dining. â˜•ğŸ‡®ğŸ‡¹ Stay tuned for exclusive collabs, menu drops & city vibes! #DaManuXIlly #LondonCity #CoffeeCulture #Partnership", tweetUrl: "https://x.com/DaManu_Official/status/2010741602507964854" },
      { username: "Movie_fly", text: "These set photos are straight fire! 1940s London vibes with that classic chase, Doom's multiverse chaos is about to hit hard. Hyped AF!  #AvengersDoomsday", tweetUrl: "https://x.com/Movie_fly/status/2010738494277345643" },
      { username: "HattersNews", text: "Vertu vibes so back: Here we are again. The Vertu Trophy. And things are getting interesting. https://www.lutontown.co.uk/en/news/vertu-vibes-so-back", tweetUrl: "https://x.com/HattersNews/status/2010738260298101107" },
      { username: "level94836", text: "you're giving me twitter bot vibes because how have you gone 3 years without posting anything about the UK (your supposed home country) and somehow show up here on a post about American politics?", tweetUrl: "https://x.com/level94836/status/2010737057023541537" },
      { username: "ViralVibesHQ1", text: "@grok how would it affect uk if every illegal immigrate was deported", tweetUrl: "https://x.com/ViralVibesHQ1/status/2010734121811648845" },
      { username: "hoku_uk", text: "\"Join our Community Clean-Up Day this Sat!  Gather at 9am at Central Parkâ€”bring gloves, friends, and good vibes. Letâ€™s keep our neighborhood green u0026 bright! Tag who youâ€™re bringing! #CommunityLove #GreenNeighborhood\"", tweetUrl: "https://x.com/hoku_uk/status/2010730012484493519" },
      { username: "BABE4Chelsea", text: "ğŸ”µ Liam Rosenior is confident ahead of Chelseaâ€™s Carabao Cup clash with Arsenal on Wednesday night ğŸ’ª The Chelsea boss believes his side are ready for the challenge as they prepare for a huge London derby under the lights. ğŸŒƒâš½ #CFC #CarabaoCup #ChelseaArsenal #LondonDerby", tweetUrl: "https://x.com/BABE4Chelsea/status/2010726529689686199" },
      { username: "djdalallondon", text: "Old school elegance meets new age beats. ğŸ¥‚âš¡ï¸ The ultimate genre-bender is almost here. Weâ€™re taking those classic retro vibes and plugging them straight into the techno circuit. Get ready to lose yourself in the fusion. Releasing Soon. #DJDalal #TechnoXRetro #MashupAlert", tweetUrl: "https://x.com/djdalallondon/status/2010724772410261908" },
      { username: "GaikwadUK35", text: "Good evening, â˜•ğŸğŸ™", tweetUrl: "https://x.com/GaikwadUK35/status/2010722817147605175" },
      { username: "ViscountOfVibes", text: "You know a lot about broken Britain as you were one of the chief architects of make it so.", tweetUrl: "https://x.com/ViscountOfVibes/status/2010720270865277413" },
      { username: "ViscountOfVibes", text: "This will be the nail in the coffin of Britain once they get in power, RIP.", tweetUrl: "https://x.com/ViscountOfVibes/status/2010718476772753874" },
      { username: "marketbriefer", text: "Ripple secures UK FCA approvals (EMI license + crypto reg). Big step for XRP payments and potential ETF vibes incoming. Bullish. #XRP #Ripple #Crypto #Blockchain", tweetUrl: "https://x.com/marketbriefer/status/2010715354603958588" },
      { username: "mcrey18598451", text: "#London Cold air, warm coffee, London vibesğŸ˜ŠğŸ˜Š", tweetUrl: "https://x.com/mcrey18598451/status/2010714112771182659" },
      { username: "zywiremedia1", text: "â€œTrust us, it feels saferâ€ is the most British crime statistic ever. If vibes were data, London would be the safest city on Earth.", tweetUrl: "https://x.com/zywiremedia1/status/2010712929604403623" },
      { username: "busrabegcecanl", text: "ğŸŒ Mountainhead's Network State Vibes: Elon Musk's Meddling Exposed ğŸš€ Watched Mountainhead? Those tech bros plotting world takeovers? Yeah, it's basically Elon's X playbook stirring drama in UK riots, Iran protests, Venezuela elections.  Not full conquest, but weakening states for \"Network States\"? Full read:", tweetUrl: "https://x.com/busrabegcecanl/status/2010711248883863604" },
      { username: "topskillsportuk", text: "ğŸš¨ğŸ‡ªğŸ‡¸ Liam Rosenior telling Marc Guiu to smile after he subbed him off against Charlton on the weekend ğŸ˜„ #CFC  Trying to bring the good vibes to his new team ğŸ¤", tweetUrl: "https://x.com/topskillsportuk/status/2010709259064168934" },
      { username: "liberalism101UK", text: "Nailed it.  Too much of the modern left and the right is like this.  It's tribes, vibes and sides. Universal principles be damned.", tweetUrl: "https://x.com/liberalism101UK/status/2010708201319125161" },
      { username: "SecretSolesLDN", text: "Double the view, double the fun. ğŸ‘£ Monday vibes from London. Who wants to see more? ğŸŒ¹ #FeetFinder #FootModel #London #RedNails", tweetUrl: "https://x.com/SecretSolesLDN/status/2010706270433505672" }
    ];

    function loadXPostsToMap(keyword) {
      xPostsLayer.clearLayers();
      // In a real app, fetch from X API here using keyword and geocode
      // For demo, filter dummy posts by keyword (simple contains check)
      const filteredPosts = dummyXPosts.filter(post => post.text.toLowerCase().includes(keyword.toLowerCase()));
      filteredPosts.forEach(post => {
        const offsetLat = (Math.random() - 0.5) * 0.02; // Random offset for fuzzy location
        const offsetLng = (Math.random() - 0.5) * 0.03;
        addXPostMarker(currentLat + offsetLat, currentLng + offsetLng, post.username, post.text, post.tweetUrl);
      });
      document.getElementById('counter').textContent = `${filteredPosts.length} X posts loaded on map near you`;
      if (filteredPosts.length === 0) {
        alert(`No matching posts for "${keyword}". Try another keyword!`);
      }
    }

    document.getElementById('huntXPosts').onclick = () => {
      const keyword = document.getElementById('keywordInput').value.trim() || 'london';
      const radius = 30; // km
      // Instead of opening X, load to map (using demo data)
      loadXPostsToMap(keyword);
      alert(`Loaded X posts for "${keyword}" directly on the map (live snapshot with fuzzy locations).\nFor true real-time integration, add X API fetch with a backend proxy.`);
    };

    // AI ghosts wander slowly
    setInterval(() => {
      ghostMarkers.forEach(g => {
        const wander = (Math.random() - 0.5) * 0.004;
        const newLat = g.baseLat + wander;
        const newLng = g.baseLng + wander * 1.4;
        g.marker.setLatLng([newLat, newLng]);
        g.baseLat = newLat; g.baseLng = newLng;
      });
    }, 45000 + Math.random() * 45000);

    // â”€â”€â”€ Button Handlers â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    document.getElementById('refreshLocation').onclick = startAISearch;

    document.getElementById('clearFootprints').onclick = clearAllFootprints;

    document.getElementById('shareFootprints').onclick = async () => {
      const url = window.location.href;
      const text = `AI + live X vibes on Earth!\nGhost crew locked â€¢ RootDonate 2026\n${url}`;
      if (navigator.share) {
        navigator.share({title: 'RootDonate AI + X Search', text, url});
      } else {
        window.open(`https://x.com/intent/post?text=${encodeURIComponent(text)}`, '_blank');
      }
    };

    // Example: Add a dummy X post on init (optional)
    setTimeout(() => {
      addXPostMarker(51.5074 + 0.01, -0.1278 + 0.015, "iandreme", "Big UK energy today ğŸ‡¬ğŸ‡§ What's the vibe?", "https://x.com/iandreme/status/1234567890");
    }, 3000);

    // â”€â”€â”€ Init â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    loadFootprints();
    startAISearch();
    setTimeout(() => map.invalidateSize(), 500);
  </script>
</body>
</html>
```â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹