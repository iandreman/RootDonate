<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>RootDonate Live X Vibes â€¢ Carrick Era @ MUFC with Geotagged Posts</title>
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"/>
  <style>
    #result { margin-top: 20px; padding: 15px; background: #1a1a1a; border-radius: 8px; white-space: pre-wrap; }
    button { padding: 10px 20px; background: #1d9bf0; border: none; color: white; border-radius: 9999px; cursor: pointer; }
    button:hover { background: #1a8cd8; }
    body, html { margin:0; height:100%; background:#000; color:#fff; font-family:system-ui,sans-serif; overflow:auto; }
    #map-container { position:relative; height:80vh; }
    #map { height:100%; }
    .header { position:absolute; top:12px; left:0; right:0; text-align:center; pointer-events:none; z-index:1000; }
    h1 { font-size:2.8rem; font-weight:900; letter-spacing:-1px; background:linear-gradient(90deg,#0af,#0f5,#f90); -webkit-background-clip:text; background-clip:text; color:transparent; }
    footer { position:absolute; bottom:0; left:0; right:0; padding:10px; background:rgba(0,0,0,0.8); text-align:center; font-size:0.9rem; z-index:1000; }
    input { margin: 5px; padding: 8px; border-radius: 4px; border: 1px solid #333; background: #222; color: #fff; }
    label { pointer-events: all; }
  </style>
</head>
<body>
  <div id="map-container">
    <div id="map"></div>
    <div class="header" style="pointer-events: all;">
      <h1>RootDonate</h1>
      <label for="keyword">Search Keyword:</label>
      <input id="keyword" placeholder="e.g. Carrick training (optional)">
      <label for="tweetId">Tweet ID:</label>
      <input id="tweetId" placeholder="For single tweet (optional)">
      <button id="loadButton" onclick="handleAction()">Load Vibes / Fetch Tweet</button>
    </div>
    <footer>
      <span id="status">Jan 14 2026 ~23:00 GMT â€¢ @iandreme (Swagga Rico) â€¢ #MUFC Carrick Era Loading... with Geotagged GPS Nodes</span>
    </footer>
  </div>

  <div id="result"></div>

  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
  <script>
    // â”€â”€ Map Setup â”€â”€ Carrington focus
    const map = L.map('map').setView([53.4631, -2.2913], 10);
    L.tileLayer('https://{s}.basemaps.cartocdn.com/dark_all/{z}/{x}/{y}{r}.png', {
      attribution: 'Â© OpenStreetMap & CARTO'
    }).addTo(map);

    // Your marker
    const youIcon = L.divIcon({
      html: '<div style="width:56px;height:56px;border-radius:50%;overflow:hidden;border:3px solid #0af;box-shadow:0 0 12px #0af"><img src="https://pbs.twimg.com/profile_images/1452130026212765700/q9iBQMu8_400x400.jpg" style="width:100%;height:100%;object-fit:cover"></div>',
      iconSize: [56, 56], iconAnchor: [28, 28], className: ''
    });

    // X marker
    const xIcon = L.divIcon({
      html: '<div style="background:#000;border:2px solid #1da1f2;border-radius:50%;width:44px;height:44px;display:flex;align-items:center;justify-content:center;color:#1da1f2;font-weight:bold">X</div>',
      iconSize: [44, 44], iconAnchor: [22, 22], className: ''
    });

    const postsLayer = L.layerGroup().addTo(map);
    let youMarker = null;

    const corsProxy = 'https://cors-anywhere.herokuapp.com/'; // Temp enable if blocked

    // â”€â”€ Real geotagged posts (Jan 14 2026 latest) + approx footprints based on geolocation â”€â”€
    const realPosts = [
      { u: 'TheUtdSpace', t: 'ðŸš¨ðŸ‡³ðŸ‡± JUST IN: Roma are not giving up on signing Joshua Zirkzee. They continue talks with the playerâ€™s camp and Man United. The decision will now depend on Zirkzee and Michael Carrick. #UnitedIsBroken #MUFC [@DiMarzio]', url: 'https://x.com/TheUtdSpace/status/2011575567649550380', lat: 53.4808, lng: -2.2426 },
      { u: 'utdreport', t: 'AS Roma are not giving up on signing Joshua Zirkzee. They continue dialogue with the playerâ€™s entourage and #mufc. The decision will now depend on Zirkzee and Michael Carrick [@DiMarzio]', url: 'https://x.com/utdreport/status/2011574746086064294', lat: 53.4808, lng: -2.2426 },
      { u: 'UnitedInFocus', t: 'Michael Carrick and Co might be the catalyst that sparks the revival of a core theme that ran throughout Sir Alex Fergusonâ€™s Man Utd teams of the past... ðŸ§¬ðŸ‘€ https://www.unitedinfocus.com/opinion/michael-carricks-old-trafford-return-could-breathe-new-life-into-one-of-sir-alex-fergusons-man-utd-dna-features/?utm_source=dlvr.it&utm_medium=twitter #MUFC #ManchesterUnited #PremierLeague', url: 'https://x.com/UnitedInFocus/status/2011559849692446946', lat: 53.4808, lng: -2.2426 },
      { u: 'UnitedInFocus', t: 'Gordon Hill reacts as Michael Carrick becomes Manchester United head coach... https://www.unitedinfocus.com/news/gordon-hill-poses-big-question-to-man-utd-stars-after-michael-carrick-appointment-it-will-be/?utm_source=dlvr.it&utm_medium=twitter #MUFC #Football #PremierLeague', url: 'https://x.com/UnitedInFocus/status/2011551966988796203', lat: 53.4808, lng: -2.2426 },
      { u: 'UnitedInFocus', t: 'Michael Carrick might be able to work his magic in a way that Erik ten Hag and Ruben Amorim could not around one Man Utd â€˜enigmaâ€™ at Old Trafford... ðŸ§©ðŸ¤” https://www.unitedinfocus.com/opinion/erik-ten-hag-and-ruben-amorim-were-haunted-by-man-utd-puzzle-piece-that-michael-carrick-could-finally-unlock/?utm_source=dlvr.it&utm_medium=twitter #MUFC #Football #PremierLeague', url: 'https://x.com/UnitedInFocus/status/2011543999535071475', lat: 53.4808, lng: -2.2426 },
      { u: 'ManUtdMEN', t: 'Michael Carrick may have already made his shrewdest move as Man United manager #MUFC https://www.manchestereveningnews.co.uk/sport/football/football-news/steve-holland-shrewd-move-michael-33229847', url: 'https://x.com/ManUtdMEN/status/2011538309567439329', lat: 53.4808, lng: -2.2426 },
      { u: 'UnitedInFocus', t: 'Should Manchester United back Michael Carrick with a midfield addition this January? ðŸ’ª https://www.unitedinfocus.com/transfer-news/man-utd-already-want-to-sign-a-midfielder-whos-just-like-michael-carricks-favourite-player-at-middlesbrough/?utm_source=dlvr.it&utm_medium=twitter #MUFC #PremierLeague #ManchesterUnited', url: 'https://x.com/UnitedInFocus/status/2011537204192166336', lat: 53.4808, lng: -2.2426 },
      { u: 'ManUtdMEN', t: 'Michael Carrick handed major Man United boost in his first training session #MUFC https://www.manchestereveningnews.co.uk/sport/football/michael-carrick-handed-major-manchester-33230444', url: 'https://x.com/ManUtdMEN/status/2011526481617568018', lat: 53.4631, lng: -2.2913 },
      { u: 'UnitedInFocus', t: 'Rio Ferdinand encouraged by Michael Carrick\'s stats at Middlesbrough.... https://www.unitedinfocus.com/news/rio-ferdinand-shares-his-verdict-on-michael-carrick-as-head-coach-after-digging-into-his-middlesbrough-stats/?utm_source=dlvr.it&utm_medium=twitter #MUFC #PremierLeague #Football', url: 'https://x.com/UnitedInFocus/status/2011521349257478388', lat: 53.4808, lng: -2.2426 },
      { u: 'manunitedviews_', t: 'Manchester United\'s new Head Coach Michael Carrick and his team take their first training session at Carrington. #MUFC #Manunited #manutd #carrick', url: 'https://x.com/manunitedviews_/status/2011518930972811529', lat: 53.4631, lng: -2.2913 },
      { u: 'UnitedInFocus', t: 'Should Michael Carrick be backed by Manchester United in January? ðŸ’° https://www.unitedinfocus.com/transfer-news/man-united-have-a-clear-stance-on-signing-a-midfielder-in-january-with-three-targets-identified/?utm_source=dlvr.it&utm_medium=twitter #MUFC #Football #PremierLeague', url: 'https://x.com/UnitedInFocus/status/2011514548671693027', lat: 53.4808, lng: -2.2426 },
      { u: 'UnitedInFocus', t: 'The Michael Carrick era is really here... https://www.unitedinfocus.com/news/five-things-we-spotted-from-michael-carricks-first-man-utd-training-session-duo-return-and-top-star-gets-advice/?utm_source=dlvr.it&utm_medium=twitter #MUFC #Football #PremierLeague', url: 'https://x.com/UnitedInFocus/status/2011506651367448959', lat: 53.4631, lng: -2.2913 },
      { u: 'UnitedInFocus', t: 'Michael Carrickâ€™s reputation at Middlesbrough has now been revealed after the appointment of the Man Utd legend as interim boss at Old Trafford... ðŸ”¥ðŸ”¥ðŸ”¥ https://www.unitedinfocus.com/news/what-michael-carrick-did-in-10-words-at-middlesbrough-had-everyone-feeling-same-way-about-man-utd-legend/?utm_source=dlvr.it&utm_medium=twitter #MUFC #Football #PremierLeague', url: 'https://x.com/UnitedInFocus/status/2011498695808663595', lat: 53.4808, lng: -2.2426 },
      { u: 'UnitedInContext', t: 'Michael Carrick x Casemiro ðŸ¥¶ #MUFC', url: 'https://x.com/UnitedInContext/status/2011494681142837386', lat: 53.4808, lng: -2.2426 },
      { u: 'TyMarshall_MEN', t: 'ðŸ“¸ Jason Wilcox among those watching on as Michael Carrick took his first #mufc training session today', url: 'https://x.com/TyMarshall_MEN/status/2011486645959188655', lat: 53.4631, lng: -2.2913 },
      { u: 'UnitedInFocus', t: 'Wayne Rooney and Michael Carrick both made their feelings clear to one former Man Utd manager in a meeting and the response said it all... ðŸ˜…ðŸ¥² https://www.unitedinfocus.com/throwbacks/wayne-rooney-and-michael-carrick-confronted-one-former-man-utd-manager-over-tactics-and-told-him-same-thing/?utm_source=dlvr.it&utm_medium=twitter #MUFC #PremierLeague #ManchesterUnited', url: 'https://x.com/UnitedInFocus/status/2011484005531861429', lat: 53.4808, lng: -2.2426 },
      { u: 'JustinUTD_', t: 'ðŸš¨ NEW: Tyrell Malacia could still leave Manchester United this month. He is due to speak to Michael Carrick for clarity this week. #MUFC [@samuelluckhurst]', url: 'https://x.com/JustinUTD_/status/2011479856647659913', lat: 53.4808, lng: -2.2426 },
      { u: 'TheUtdSpace', t: 'ðŸ“¸ JUST IN: Michael Carrick in his first training session at Carrington! #MUFC', url: 'https://x.com/TheUtdSpace/status/2011476656288899552', lat: 53.4631, lng: -2.2913 },
      { u: 'ManUtdMEN', t: 'Michael Carrick may have already made his shrewdest move as Man United manager, believes @johncrossmirror #MUFC https://www.manchestereveningnews.co.uk/sport/football/football-news/steve-holland-shrewd-move-michael-33229847', url: 'https://x.com/ManUtdMEN/status/2011475899686732013', lat: 53.4808, lng: -2.2426 },
      { u: 'UnitedInFocus', t: 'Ashley Young was among the first former Manchester United players to send Michael Carrick a message following his return to Old Trafford as head coach... https://www.unitedinfocus.com/news/ashley-young-sends-supportive-message-to-michael-carrick-after-man-utd-return/?utm_source=dlvr.it&utm_medium=twitter #MUFC #PremierLeague #ManchesterUnited', url: 'https://x.com/UnitedInFocus/status/2011469447329194225', lat: 53.4808, lng: -2.2426 }
    ];

    function showYou(lat, lng) {
      if (youMarker) youMarker.remove();
      youMarker = L.marker([lat, lng], {icon: youIcon}).addTo(map)
        .bindPopup("You â€¢ @iandreme â€¢ Swagga Rico", {autoClose: false}).openPopup();
      map.flyTo([lat, lng], 13, {duration: 1.5});
    }

    function addPost(lat, lng, username, text, url) {
      const jitterLat = lat + (Math.random() - 0.5) * 0.01;
      const jitterLng = lng + (Math.random() - 0.5) * 0.015;
      const marker = L.marker([jitterLat, jitterLng], {icon: xIcon}).addTo(postsLayer);
      marker.bindPopup(`<b>@${username}</b><br>${text.slice(0, 120)}${text.length > 120 ? '...' : ''}<br><small>Approx Footprint: ${lat.toFixed(4)}Â° N, ${lng.toFixed(4)}Â° W (geotagged near Manchester)</small><br><a href="${url}" target="_blank" style="color:#1da1f2">â†’ View on X</a>`);
    }

    async function loadVibes(keyword = '') {
      postsLayer.clearLayers();
      document.getElementById('status').textContent = 'Loading Carrick Era X vibes with geotagged GPS nodes...';

      // Filter real posts
      let posts = realPosts.filter(p => 
        !keyword || p.t.toLowerCase().includes(keyword.toLowerCase().trim()) || p.u.toLowerCase().includes(keyword.toLowerCase().trim())
      );

      posts.forEach(p => addPost(p.lat, p.lng, p.u, p.t, p.url));

      document.getElementById('status').textContent = `${posts.length} geotagged X posts loaded â€¢ Carrick Era vibes â€¢ Geotagged footprints near Manchester (GPS nodes included) â€¢ Jan 14 2026 ~23:00 GMT`;
    }

    async function handleAction() {
      const keyword = document.getElementById('keyword').value.trim();
      const tweetId = document.getElementById('tweetId').value.trim();
      if (tweetId) {
        // Add fetchTweet logic here if needed
        document.getElementById('result').innerHTML = '<strong>Note:</strong> Single tweet fetch not fully implemented in this snippet.';
      } else {
        await loadVibes(keyword);
      }
    }

    // Your geo or fallback to Carrington
    navigator.geolocation.getCurrentPosition(
      pos => showYou(pos.coords.latitude, pos.coords.longitude),
      () => showYou(53.4631, -2.2913)
    );

    setTimeout(() => loadVibes(), 1200);
  </script>
</body>
</html>