<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>RootDonate â€¢ Live X Vibes (Swagga Rico)</title>
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"/>
  <style>
    body, html {
      margin: 0;
      height: 100%;
      background: #000;
      color: #fff;
      font-family: system-ui, sans-serif;
      overflow: hidden;
    }
    #map { height: 100%; }
    .header {
      position: absolute;
      top: 12px;
      left: 0;
      right: 0;
      text-align: center;
      pointer-events: none;
      z-index: 1000;
    }
    h1 {
      font-size: 2.8rem;
      font-weight: 900;
      letter-spacing: -1px;
      background: linear-gradient(90deg, #0af, #0f5, #f90);
      -webkit-background-clip: text;
      background-clip: text;
      color: transparent;
    }
    .search {
      position: absolute;
      top: 60px;
      left: 50%;
      transform: translateX(-50%);
      z-index: 1001;
      background: rgba(0,0,0,0.7);
      backdrop-filter: blur(8px);
      padding: 12px;
      border-radius: 12px;
      border: 1px solid #444;
      width: 90%;
      max-width: 420px;
      text-align: center;
    }
    input, button {
      padding: 8px 12px;
      border: none;
      border-radius: 6px;
      margin: 6px;
    }
    input {
      width: 65%;
      background: #222;
      color: #fff;
    }
    button {
      background: #1da1f2;
      color: #fff;
      cursor: pointer;
    }
    footer {
      position: absolute;
      bottom: 0;
      left: 0;
      right: 0;
      padding: 10px;
      background: rgba(0,0,0,0.8);
      text-align: center;
      font-size: 0.9rem;
      z-index: 1000;
    }
  </style>
</head>
<body>
  <div id="map"></div>

  <div class="header">
    <h1>RootDonate</h1>
  </div>

  <div class="search">
    <input id="keyword" placeholder="carrick / united / vibes / uk / blank = all" value="">
    <button id="load">Load Live X Vibes</button>
  </div>

  <footer>
    <span id="status">Live X vibes â€¢ Jan 12 2026 ~18:57 GMT â€¢ @iandreme (Swagga Rico) â€¢ Carrick interim buzz heavy</span>
  </footer>

  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
  <script>
    // â”€â”€ Map Setup â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    const map = L.map('map').setView([51.507, -0.128], 11);
    L.tileLayer('https://{s}.basemaps.cartocdn.com/dark_all/{z}/{x}/{y}{r}.png', {
      attribution: 'Â© OpenStreetMap & CARTO'
    }).addTo(map);

    // Your avatar (@iandreme / Swagga Rico)
    const youIcon = L.divIcon({
      html: '<div style="width:56px;height:56px;border-radius:50%;overflow:hidden;border:3px solid #0af;box-shadow:0 0 12px #0af"><img src="https://pbs.twimg.com/profile_images/1452130026212765700/q9iBQMu8_400x400.jpg" style="width:100%;height:100%;object-fit:cover"></div>',
      iconSize: [56, 56],
      iconAnchor: [28, 28],
      className: ''
    });

    // X post marker
    const xIcon = L.divIcon({
      html: '<div style="background:#000;border:2px solid #1da1f2;border-radius:50%;width:44px;height:44px;display:flex;align-items:center;justify-content:center;color:#1da1f2;font-weight:bold">X</div>',
      iconSize: [44, 44],
      iconAnchor: [22, 22],
      className: ''
    });

    const postsLayer = L.layerGroup().addTo(map);
    let youMarker = null;

    // â”€â”€ IMPORTANT: Replace with YOUR secure proxy URL â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    // Example: https://your-vercel-app.vercel.app/api/tweets
    // NEVER put bearer token in client-side code! Use backend for auth.
    const PROXY_API_URL = "https://www.rootdonate.co.uk/@";  // â† CHANGE THIS TO YOUR PROXY!

    async function fetchLivePosts(keyword = '') {
      const baseQuery = '("Michael Carrick" OR Carrick) ("Manchester United" OR MUFC OR "Man Utd") lang:en';
      const q = keyword.trim() ? `${keyword} lang:en` : baseQuery;

      try {
        const res = await fetch(`${PROXY_API_URL}?q=${encodeURIComponent(q)}`);
        if (!res.ok) throw new Error('Proxy error: ' + res.status);
        
        const data = await res.json();
        return (data.data || []).map(tweet => ({
          u: data.includes?.users?.find(u => u.id === tweet.author_id)?.username || 'unknown',
          t: tweet.text,
          url: `https://x.com/i/web/status/${tweet.id}`
        }));
      } catch (err) {
        console.error('Fetch failed:', err);
        document.getElementById('status').textContent = 'Error loading live posts â€“ check proxy setup';
        return fallbackPosts;  // Use static fallback if proxy fails
      }
    }

    // Fallback real-time X posts (Jan 12 2026 ~18:57 GMT) â€“ Carrick/MUFC vibes from X API
    const fallbackPosts = [
      { u: "UTDKIE", t: "donâ€™t let the Carrick news distract you, all our focus should be on these!!\n\n#MUFC #ManUtd #GlazersOut #IneosOut", url: "https://x.com/UTDKIE/status/2010788289830371648" },
      { u: "JDuff36MUFC", t: "An unfortunate aspect of going back to 433/4231 is can Bruno and Cunha coexist in the front 3/4. Amorim stupidly played Bruno in the pivot, but going forward Carrick and whoever takes over is going to have to deal with this.", url: "https://x.com/JDuff36MUFC/status/2010788271597764655" },
      { u: "MrJames_Stewart", t: "Carrick and Woodgate in the midfield would be better than our current options. #MUFC", url: "https://x.com/MrJames_Stewart/status/2010788142065004872" },
      { u: "posesuppe", t: "I canâ€™t believe that we were bought by such a bunch of tossers like the ones in INEOS. Chosing Carrick over Solskjaer? Fuck right off! #MUFC @ManUtd #INEOSOUT!!!", url: "https://x.com/posesuppe/status/2010787922459705425" },
      { u: "joelfunkman", t: "Heard Michael Carrick's prefered formation is the double helix. Manchester United DNA", url: "https://x.com/joelfunkman/status/2010787597149409582" },
      { u: "Jhay1UTD", t: "The one doing it for the love and  passion is Ole Gunnar Solskjaer. The other one is coming to finish the club and get his money\n\nCarrick is a yes sir coach he can't take Manchester United anywhere just bookmark this.", url: "https://x.com/Jhay1UTD/status/2010787583232790946" },
      { u: "SportyFMKE", t: "From an FA Cup exit at Old Trafford, to a sacking, to a captainâ€™s hacked account, itâ€™s been a tumultuous week at Manchester United. \nNow, Michael Carrick steps in as interim manager.\nIs he the right man to halt the slide? \n#ManchesterUnited #beyondsport #extratimeonsportyfmke", url: "https://x.com/SportyFMKE/status/2010787525384945928" },
      { u: "Tactical_Cox", t: "Welcome back to Manchester United, Michael Carrick! \n\nThe logic makes sense considering the reports about Ole wanting the permanent job in the summer if all goes well. Important to not be mislead and make the same mistake twice. \n\nHappy with Carrick? ðŸ´ó §ó ¢ó ¥ó ®ó §ó ¿ ðŸ”´", url: "https://x.com/Tactical_Cox/status/2010787432696684782" },
      { u: "Tactical_Cox", t: "Welcome back to Manchester United, Michael Carrick! \n\nThe logic makes sense considering the reports about Ole wanting the permanent job in the summer if all goes well. Important to not be mislead and make the same mistake twice. \n\nHappy with Carrick? ðŸ´ó §ó ¢ó ¥ó ®ó §ó ¿ ðŸ”´https://www.youtube.com/watch?si=-7BZ23FXWjOTf5tV&v=O49yajU2MFY&feature=youtu.be", url: "https://x.com/Tactical_Cox/status/2010787433202569269" },
      { u: "MUNNEWS_10", t: "ðŸš¨| Manchester United will make funds available for new interim manager Michael Carrick for the â€˜rightâ€™ player.âœ…\n\n#MUFC  @TheTransferOne", url: "https://x.com/MUNNEWS_10/status/2010787327346426176" },
      { u: "UTDKIE", t: "These lot are the single reason we have become this laughing stock and theyâ€™re all completely fine with it.\n\nEvery single Man Utd fan should be calling them out, instead Iâ€™m seeing a lot of people gassing Carrick.\n\nWe all need to call them out, letâ€™s get our club back\n\n#MUFC #ManUtd #GlazersOut #IneosOut", url: "https://x.com/UTDKIE/status/2010787077944984031" },
      { u: "0xKirito_o", t: "âœ… Michael Carrick has accepted all conditions of Manchester United contract proposal.\n\n> Deal now at final stages\n> Agreement will be sealed THIS WEEK\n> Carrick to become new interim manager until June\n> Talks over staff ongoing\n\nðŸ”´ Here we go, soon.\nSource: Fabrizio Romano (@FabrizioRomano)", url: "https://x.com/0xKirito_o/status/2010786675203719225" },
      { u: "sharmajichambal", t: "Michael Carrick has accepted all terms of Manchester Unitedâ€™s contract proposal.\n\nDeal at the final stages and expected to be completed this week.\n\n#BreakingNews #ManchesterUnited #MUFC #Carrick #FootballTwitter #Transfers #PremierLeague #FootballNews", url: "https://x.com/sharmajichambal/status/2010786547663294545" },
      { u: "BennassiAlexan1", t: "The Legend Michael Carrick as the new Head Coach of Manchester United would be great! (Article in german)\n#comeonyoureds #ManchesterUnited \nhttps://sportbild.bild.de/fussball/internationaler-fussball/manchester-united-michael-carrick-soll-neuer-trainer-werden-6964aec3fa56382de1f67479", url: "https://x.com/BennassiAlexan1/status/2010786410455015802" },
      { u: "RedlingMUFC", t: "Michael Carrick is one of the finest midfielders to have ever played for us. From 2006-2018, he was phenomenal, and was able to step up after the departure of Keane and later Scholes. \n\nI hope the toxic supporters keep off his back and direct the vitriol at Wilcox and the owners.", url: "https://x.com/RedlingMUFC/status/2010786309862793520" },
      { u: "sumayashilla", t: "First-round exits in the FA Cup and Carabao Cup, league struggles, and now Carrick at the helm Manchester Unitedâ€™s board seems to be waiting for catastrophe before remembering what ambition looks like", url: "https://x.com/sumayashilla/status/2010786062046806292" },
      { u: "Victorthewhite1", t: "Nice analysis, but as long as he has the wrong set of players at his disposal, these structures won't yield results especially the midfield department.\nCarrick was a midfielder who loves having the ball. \nManchester united doesn't have a holding midfielder at the moment.", url: "https://x.com/Victorthewhite1/status/2010786028836053018" },
      { u: "brendan_D_first", t: "Manchester United are set to announce Michael Carrick as the club's interim manager within the next 48 hours after talks progressed.", url: "https://x.com/brendan_D_first/status/2010786000155656312" },
      { u: "MUNScout", t: "Michael Carrick has accepted all conditions of Manchester United contract proposal.\n\nThe agreement is almost done and it will be sealed THIS week, as expected.\n\nMichael Carrick would like to bring Jonathan Woodgate to be part of his backroom team", url: "https://x.com/MUNScout/status/2010785822149353778" },
      { u: "KingffGaming3", t: "ðŸš¨ðŸ›‘ Positive talks took place today between Manchester United and Michael Carrick. Heâ€™s the leading candidate to become new interim manager until June, deal now at final stages. Talks over staff ongoing, as @MikeKeegan_DM reports. https://www.youtube.com/watch?v=CkxqtFaNZSQ&feature=youtu.be #GoldenGlobes2026", url: "https://x.com/KingffGaming3/status/2010785809646145849" }
    ];

    function showYou(lat, lng) {
      if (youMarker) youMarker.remove();
      youMarker = L.marker([lat, lng], {icon: youIcon}).addTo(map)
        .bindPopup("You â€¢ @iandreme â€¢ Swagga Rico", {autoClose: false}).openPopup();
      map.flyTo([lat, lng], 13, {duration: 1.5});
    }

    function addPost(lat, lng, username, text, url) {
      const marker = L.marker([lat, lng], {icon: xIcon}).addTo(postsLayer);
      marker.bindPopup(`<b>@${username}</b><br>${text.slice(0, 90)}${text.length > 90 ? '...' : ''}<br><a href="${url}" target="_blank" style="color:#1da1f2">â†’ View on X</a>`);
    }

    async function loadVibes(keyword = '') {
      postsLayer.clearLayers();
      document.getElementById('status').textContent = 'Loading live X vibes...';

      let posts = await fetchLivePosts(keyword);
      if (posts.length === 0) posts = fallbackPosts.filter(p => !keyword || p.t.toLowerCase().includes(keyword.toLowerCase().trim()) || p.u.toLowerCase().includes(keyword.toLowerCase().trim()));

      posts.forEach(p => {
        const offLat = (Math.random() - 0.5) * 0.05;
        const offLng = (Math.random() - 0.5) * 0.07;
        addPost(51.507 + offLat, -0.128 + offLng, p.u, p.t, p.url);
      });

      document.getElementById('status').textContent = `${posts.length} live X posts loaded â€¢ Carrick / MUFC vibes â€¢ Jan 12 2026 ~18:57 GMT`;
    }

    // GPS â†’ fallback to London
    navigator.geolocation.getCurrentPosition(
      pos => showYou(pos.coords.latitude, pos.coords.longitude),
      () => showYou(51.507, -0.128)
    );

    // Event listeners + auto-load
    document.getElementById('load').onclick = () => {
      loadVibes(document.getElementById('keyword').value);
    };

    setTimeout(() => loadVibes(), 1500);
  </script>
</body>
</html>
```â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹